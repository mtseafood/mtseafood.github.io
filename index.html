<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Carter&#39;s Notes">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Carter&#39;s Notes">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Carter Lin">
<meta property="article:tag" content="Software Engineer">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Carter's Notes</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Carter's Notes</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-s fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Carter Lin</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/24/Pytest-Fixture/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Carter Lin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Carter's Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Carter's Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/24/Pytest-Fixture/" class="post-title-link" itemprop="url">Pytest Fixture</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-08-24 21:50:30" itemprop="dateCreated datePublished" datetime="2024-08-24T21:50:30+08:00">2024-08-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-25 14:08:02" itemprop="dateModified" datetime="2024-08-25T14:08:02+08:00">2024-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Pytest/" itemprop="url" rel="index"><span itemprop="name">Pytest</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Understanding-Pytest-Fixtures-A-Comprehensive-Guide"><a href="#Understanding-Pytest-Fixtures-A-Comprehensive-Guide" class="headerlink" title="Understanding Pytest Fixtures: A Comprehensive Guide"></a>Understanding Pytest Fixtures: A Comprehensive Guide</h1><h2 id="What-is-a-Fixture"><a href="#What-is-a-Fixture" class="headerlink" title="What is a Fixture?"></a>What is a Fixture?</h2><p>A fixture in <code>pytest</code> is a function that sets up some context or state for your tests. It allows you to create reusable test setups, reducing code duplication and improving test clarity. Fixtures can manage resources like database connections, file handles, or any other setup needed for your tests.</p>
<h2 id="Defining-Fixtures"><a href="#Defining-Fixtures" class="headerlink" title="Defining Fixtures"></a>Defining Fixtures</h2><p>To define a fixture, use the <code>@pytest.fixture</code> decorator. Here’s a simple example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.fixture</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sample_data</span>():</span><br><span class="line">    <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<h2 id="Using-Fixtures-in-Tests"><a href="#Using-Fixtures-in-Tests" class="headerlink" title="Using Fixtures in Tests"></a>Using Fixtures in Tests</h2><p>You can use a fixture by including it as an argument in your test function:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_sum</span>(<span class="params">sample_data</span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">sum</span>(sample_data) == <span class="number">15</span></span><br></pre></td></tr></table></figure>

<h2 id="Fixture-Scope"><a href="#Fixture-Scope" class="headerlink" title="Fixture Scope"></a>Fixture Scope</h2><p>Fixtures can have different scopes that determine how often they are invoked:</p>
<ul>
<li>function: (default) invoked for each test function.</li>
<li>class: invoked once per test class.</li>
<li>module: invoked once per module.</li>
<li>session: invoked once per session.</li>
</ul>
<ol>
<li><p>Function Scope (Default)<br>This is the default scope. The fixture is invoked for each test function that uses it.</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.fixture</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">function_fixture</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Setting up function fixture&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Tearing down function fixture&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_one</span>(<span class="params">function_fixture</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Running test_one&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_two</span>(<span class="params">function_fixture</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Running test_two&quot;</span>)</span><br></pre></td></tr></table></figure>

<p> Output:</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Setting up function fixture</span><br><span class="line">Running test_one</span><br><span class="line">Tearing down function fixture</span><br><span class="line">Setting up function fixture</span><br><span class="line">Running test_two</span><br><span class="line">Tearing down function fixture</span><br></pre></td></tr></table></figure>
</li>
<li><p>Class Scope<br>The fixture is invoked once per test class. It can be shared among all test methods in the class.</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.fixture(<span class="params">scope=<span class="string">&#x27;class&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">class_fixture</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Setting up class fixture&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Tearing down class fixture&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestClass</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_one</span>(<span class="params">self, class_fixture</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Running TestClass.test_one&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_two</span>(<span class="params">self, class_fixture</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Running TestClass.test_two&quot;</span>)</span><br></pre></td></tr></table></figure>
<p> Output:</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Setting up class fixture</span><br><span class="line">Running TestClass.test_one</span><br><span class="line">Running TestClass.test_two</span><br><span class="line">Tearing down class fixture</span><br></pre></td></tr></table></figure>
</li>
<li><p>Module Scope<br>The fixture is invoked once per module. It can be shared among all test functions in the module.</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.fixture(<span class="params">scope=<span class="string">&#x27;module&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">module_fixture</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Setting up module fixture&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Tearing down module fixture&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_one</span>(<span class="params">module_fixture</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Running test_one&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_two</span>(<span class="params">module_fixture</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Running test_two&quot;</span>)</span><br></pre></td></tr></table></figure>
<p> Output:</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Setting up module fixture</span><br><span class="line">Running test_one</span><br><span class="line">Running test_two</span><br><span class="line">Tearing down module fixture</span><br></pre></td></tr></table></figure>
</li>
<li><p>Session Scope<br>The fixture is invoked once per session. This means it will be shared across all tests in the entire test run.</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.fixture(<span class="params">scope=<span class="string">&#x27;session&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">session_fixture</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Setting up session fixture&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Tearing down session fixture&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_one</span>(<span class="params">session_fixture</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Running test_one&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_two</span>(<span class="params">session_fixture</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Running test_two&quot;</span>)</span><br></pre></td></tr></table></figure>

<p> Output:</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Setting up session fixture</span><br><span class="line">Running test_one</span><br><span class="line">Running test_two</span><br><span class="line">Tearing down session fixture</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Yielding-Fixtures"><a href="#Yielding-Fixtures" class="headerlink" title="Yielding Fixtures"></a>Yielding Fixtures</h3><p>Using yield in fixtures allows you to separate setup and teardown logic. Code before yield runs before the test, and code after runs after:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.fixture</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">resource</span>():</span><br><span class="line">    res = create_resource()</span><br><span class="line">    <span class="keyword">yield</span> res</span><br><span class="line">    res.cleanup()</span><br></pre></td></tr></table></figure>

<h3 id="Parameterized-Fixtures"><a href="#Parameterized-Fixtures" class="headerlink" title="Parameterized Fixtures"></a>Parameterized Fixtures</h3><p>Parameterized fixtures allow you to run a test with multiple sets of data:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.fixture(<span class="params">params=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">param_fixture</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> request.param</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_parameterized</span>(<span class="params">param_fixture</span>):</span><br><span class="line">    <span class="keyword">assert</span> param_fixture <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<h3 id="Autouse-Fixtures"><a href="#Autouse-Fixtures" class="headerlink" title="Autouse Fixtures"></a>Autouse Fixtures</h3><p>If you want a fixture to be automatically used by tests without explicitly including it, set autouse&#x3D;True:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.fixture(<span class="params">autouse=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setup_environment</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Setting up environment&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Tearing down environment&quot;</span>)</span><br></pre></td></tr></table></figure>


<h2 id="Best-Practices-for-Using-Fixtures"><a href="#Best-Practices-for-Using-Fixtures" class="headerlink" title="Best Practices for Using Fixtures"></a>Best Practices for Using Fixtures</h2><ol>
<li><strong>Keep Fixtures Focused</strong>: Each fixture should handle a specific setup. This makes them easier to understand and reuse.</li>
<li><strong>Use Descriptive Names</strong>: Name your fixtures clearly to indicate their purpose.</li>
<li><strong>Avoid Global State</strong>: Ensure your fixtures do not rely on or modify global state to prevent side effects in tests.</li>
<li><strong>Combine Fixtures</strong>: You can use multiple fixtures in a single test by including them as parameters.</li>
</ol>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Fixtures are an essential feature in <code>pytest</code> that can greatly enhance your testing strategy. By leveraging fixtures, you can write cleaner, more maintainable tests while reducing redundancy. For further exploration, refer to the <a target="_blank" rel="noopener" href="https://docs.pytest.org/en/stable/">official pytest documentation</a>.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/24/Python-Testing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Carter Lin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Carter's Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Carter's Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/24/Python-Testing/" class="post-title-link" itemprop="url">Python Testing</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-08-24 21:36:50" itemprop="dateCreated datePublished" datetime="2024-08-24T21:36:50+08:00">2024-08-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-25 14:08:10" itemprop="dateModified" datetime="2024-08-25T14:08:10+08:00">2024-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Pytest/" itemprop="url" rel="index"><span itemprop="name">Pytest</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="A-Beginner’s-Guide-to-Python-Unit-Testing-with-Pytest"><a href="#A-Beginner’s-Guide-to-Python-Unit-Testing-with-Pytest" class="headerlink" title="A Beginner’s Guide to Python Unit Testing with Pytest"></a>A Beginner’s Guide to Python Unit Testing with Pytest</h1><p>Unit testing is an essential practice in software development that helps ensure your code behaves as expected. This guide will introduce you to the basics of unit testing in Python using the <code>pytest</code> framework.</p>
<h2 id="What-is-Unit-Testing"><a href="#What-is-Unit-Testing" class="headerlink" title="What is Unit Testing?"></a>What is Unit Testing?</h2><p>Unit testing involves testing individual components of your code (usually functions or classes) to verify that they work correctly. This practice helps catch bugs early and makes your code more maintainable.</p>
<h2 id="Why-Unit-Test"><a href="#Why-Unit-Test" class="headerlink" title="Why Unit Test?"></a>Why Unit Test?</h2><ul>
<li><strong>Catch Bugs Early</strong>: Identify issues before they become larger problems.</li>
<li><strong>Simplify Integration</strong>: Ensure that each part of your code works independently.</li>
<li><strong>Facilitate Refactoring</strong>: Make changes to your code with confidence that existing functionality is preserved.</li>
<li><strong>Documentation</strong>: Provide examples of how your code is intended to be used.</li>
</ul>
<h2 id="Introducing-Pytest"><a href="#Introducing-Pytest" class="headerlink" title="Introducing Pytest"></a>Introducing Pytest</h2><p><code>pytest</code> is a popular testing framework for Python that makes it easy to write simple and scalable test cases. It offers powerful features like fixtures, parameterized testing, and a rich ecosystem of plugins.</p>
<h3 id="Installing-Pytest"><a href="#Installing-Pytest" class="headerlink" title="Installing Pytest"></a>Installing Pytest</h3><p>To get started with <code>pytest</code>, you need to install it. You can do this using pip:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pytest</span><br></pre></td></tr></table></figure>


<h3 id="Getting-Started-with-Pytest"><a href="#Getting-Started-with-Pytest" class="headerlink" title="Getting Started with Pytest"></a>Getting Started with Pytest</h3><ol>
<li><p>Writing Your First Test<br>Here’s a simple example. Suppose you have a function that adds two numbers:</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># calculator.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br></pre></td></tr></table></figure>

<p> Now, let’s write a unit test for this function using pytest:</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># test_calculator.py</span></span><br><span class="line"><span class="keyword">from</span> calculator <span class="keyword">import</span> add</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add</span>():</span><br><span class="line">    <span class="keyword">assert</span> add(<span class="number">1</span>, <span class="number">2</span>) == <span class="number">3</span></span><br><span class="line">    <span class="keyword">assert</span> add(-<span class="number">1</span>, <span class="number">1</span>) == <span class="number">0</span></span><br><span class="line">    <span class="keyword">assert</span> add(<span class="number">0</span>, <span class="number">0</span>) == <span class="number">0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Running Your Tests<br>To run your tests, open your terminal, navigate to the directory containing your test_calculator.py file, and execute:</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest</span><br></pre></td></tr></table></figure></li>
</ol>
<p>You should see output indicating whether your tests passed or failed.</p>
<ol start="3">
<li>Writing More Tests<br>As your codebase grows, you’ll want to write more tests. Here are some tips:<ul>
<li><p>Test Functions: Each test should be a standalone function prefixed with test_.</p>
</li>
<li><p>Fixtures: Use fixtures to set up any necessary state or dependencies for your tests.</p>
<p>  Example of Using Fixtures</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="keyword">from</span> calculator <span class="keyword">import</span> add</span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.fixture</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">numbers</span>():</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">10</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add</span>(<span class="params">numbers</span>):</span><br><span class="line">    a, b = numbers</span><br><span class="line">    <span class="keyword">assert</span> add(a, b) == <span class="number">15</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h3 id="Best-Practices-for-Unit-Testing-with-Pytest"><a href="#Best-Practices-for-Unit-Testing-with-Pytest" class="headerlink" title="Best Practices for Unit Testing with Pytest"></a>Best Practices for Unit Testing with Pytest</h3><ul>
<li>Keep Tests Isolated: Each test should be independent of others.</li>
<li>Name Your Tests Clearly: Use descriptive names for your test functions.</li>
<li>Run Tests Frequently: Integrate running tests into your development workflow.</li>
<li>Use Plugins: Explore pytest plugins for additional functionality.</li>
</ul>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Unit testing is a powerful tool that helps maintain code quality. By following this guide and using pytest, you can start writing your own unit tests in Python, ensuring that your code is reliable and easier to maintain.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/24/Frist-By-Hexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Carter Lin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Carter's Notes">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Carter's Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/24/Frist-By-Hexo/" class="post-title-link" itemprop="url">Frist  By Hexo</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-08-24 21:35:51" itemprop="dateCreated datePublished" datetime="2024-08-24T21:35:51+08:00">2024-08-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-25 14:07:47" itemprop="dateModified" datetime="2024-08-25T14:07:47+08:00">2024-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/hexo-tutorial/" itemprop="url" rel="index"><span itemprop="name">hexo tutorial</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Hello, world!</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Carter Lin</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
